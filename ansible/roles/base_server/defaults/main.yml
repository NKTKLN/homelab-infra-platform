---
# Default variables for the base_server role.
# These values can be overridden in group_vars/host_vars per environment.

# Common baseline packages installed on all servers.
common_packages:
  - ca-certificates    # Ensure CA certificates are present for HTTPS
  - curl               # HTTP client for scripting/debugging
  - wget               # Alternative HTTP/FTP client
  - unzip              # Unzip utility
  - zip                # Zip archive utility
  - tar                # Tar archive utility
  - vim                # CLI text editor
  - nano               # Simple CLI text editor
  - git                # Version control client
  - jq                 # JSON CLI processor
  - lsof               # List open files/sockets
  - htop               # Interactive process viewer
  - net-tools          # Legacy networking tools (if still needed)
  - traceroute         # Network path diagnostics
  - dnsutils           # DNS tools (dig, nslookup, etc.)
  - python3            # System Python runtime
  - python3-pip        # Python package manager
  - python3-venv       # Virtualenv support for Python 3
  - rsync              # Efficient file sync
  - software-properties-common  # Adds add-apt-repository and helpers
  - acl                # File system ACL support

# Enable host firewall (UFW).
common_firewall_enabled: true

# Enable stricter SSH configuration via template.
common_harden_ssh: true

# Default SSH user and port for this environment.
username: nktkln
ssh_port: 22

# Ports that will be allowed through UFW (when enabled).
ufw_allowed_ports:
  - "{{ ssh_port }}"

# List of users allowed to log in over SSH.
ssh_allowed_users:
  - "{{ username }}"

# Kernel/network hardening settings applied via sysctl.
sysctl_settings:
  net.ipv4.conf.all.rp_filter: 1
  net.ipv4.tcp_syncookies: 1
  net.ipv4.conf.all.accept_redirects: 0
  net.ipv4.conf.all.send_redirects: 0
  net.ipv4.icmp_echo_ignore_broadcasts: 1
  kernel.kptr_restrict: 2
  kernel.dmesg_restrict: 1
