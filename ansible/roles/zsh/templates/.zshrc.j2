# -----------------------------
# LOAD SCRIPTS
# -----------------------------
# Load /etc/profile.d scripts (for MOTD)
if [ -f /etc/profile ]; then
  emulate sh -c 'source /etc/profile'
fi


# -----------------------------
# BASIC ZSH SETTINGS
# -----------------------------
export ZSH_DISABLE_COMPFIX=true
export HISTSIZE=50000
export SAVEHIST=50000
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_IGNORE_SPACE
setopt AUTO_CD
setopt CORRECT
setopt SHARE_HISTORY
setopt EXTENDED_HISTORY


# -----------------------------
# PATHS
# -----------------------------
export PATH="$HOME/.local/bin:$PATH"


# -----------------------------
# FZF HISTORY SEARCH
# -----------------------------
export FZF_DEFAULT_COMMAND='fd --type f'
export FZF_CTRL_R_OPTS="--sort --exact"

# Ctrl+R = fzf search in history
if [[ -f /usr/share/doc/fzf/examples/key-bindings.zsh ]]; then
  source /usr/share/doc/fzf/examples/key-bindings.zsh
fi


# -----------------------------
# PLUGINS
# -----------------------------
# Syntax highlighting
source {{ user_home }}/.zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# Autosuggestions
source {{ user_home }}/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh

# Extra completions
fpath=({{ user_home }}/.zsh/zsh-completions $fpath)
autoload -Uz compinit
compinit


# -----------------------------
# PROMPT
# -----------------------------
# Simple powerline-like prompt (fast)
PROMPT='%F{magenta}%n@%m%f %F{yellow}%~%f %# '
